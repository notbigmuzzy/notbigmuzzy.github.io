(function(){var e,n,t,i,o,r;n="prod",r=function(e){return document.querySelectorAll(e)},window.mn$=function(e){return r(e)[0]},i=function(e){return parseInt(e.split(" ")[0])},o=function(){},function(){var e,n,t,i,o,r,l,a,s,c,d;d=function(e){var n,i,o,l,a,s,c,d,m,u;if(d=void 0,l=void 0,m=void 0,n=void 0,u=void 0,o=void 0,s=void 0,a=void 0,c=void 0,i=void 0,!e)return null;if(e=String(e),d=/^([a-z][a-z0-9+.-]*):(?:\/\/((?:(?=((?:[a-z0-9-._~!$&'()*+,;=:]|%[0-9A-F]{2})*))(\3)@)?(?=(\[[0-9A-F:.]{2,}\]|(?:[a-z0-9-._~!$&'()*+,;=]|%[0-9A-F]{2})*))\5(?::(?=(\d*))\6)?)(\/(?=((?:[a-z0-9-._~!$&'()*+,;=:@\/]|%[0-9A-F]{2})*))\8)?|(\/?(?!\/)(?=((?:[a-z0-9-._~!$&'()*+,;=:@\/]|%[0-9A-F]{2})*))\10)?)(?:\?(?=((?:[a-z0-9-._~!$&'()*+,;=:@\/?]|%[0-9A-F]{2})*))\11)?(?:#(?=((?:[a-z0-9-._~!$&'()*+,;=:@\/?]|%[0-9A-F]{2})*))\12)?$/i,l=d.exec(e),!l)return null;if(m=l[1].toLowerCase(),n=l[2],u=l[4],o=l[5],s=l[6],a=r(l[7]||l[9]),c=l[11],i=l[12],n){if(null===(o=t(o)))return null;n=(u?u+"@":"")+o+(s?":"+s:"")}return{uri:m+":"+("undefined"!=typeof n?"//"+n:"")+a+(c?"?"+c:"")+(i?"#"+i:""),scheme:m,authority:n,userinfo:u,host:o,port:s,path:a,query:c,fragment:i}},a=function(e,t){return(e=d(e))&&/^https?$/.test(e.scheme)&&n(e.host,t)?(e.port=e.port||("http"===e.scheme?"80":"443"),e.authority=(e.userinfo?e.userinfo+"@":"")+e.host+("http"===e.scheme&&"80"===e.port||"https"===e.scheme&&"443"===e.port?"":":"+e.port),e.path=e.path||"/",e.uri=e.scheme+"://"+e.authority+e.path+(e.query?"?"+e.query:"")+(e.fragment?"#"+e.fragment:""),e):null},t=function(e){var n;return n=void 0,""===e?"":e||0===e?(e=String(e),/^\[[0-9A-F:.]{2,}\]$/i.test(e)&&(n=o(e.slice(1,-1)))?"["+n+"]":/^(?:[a-z0-9-._~!$&'()*+,;=]|%[0-9A-F]{2})*$/i.test(e)?(e=e.replace(/%(3\d|[46][1-9A-F]|[57][0-9A])/g,function(e,n){return String.fromCharCode(parseInt(n.toUpperCase(),16))}),e=e.replace(/%(2[146-9A-E]|3[BD]|5F|7E)/g,function(e,n){return String.fromCharCode(parseInt(n.toUpperCase(),16))}),(n=i(e))?n:(e=e.toLowerCase(),e=e.replace(/%(..)/g,function(e,n){return"%"+n.toUpperCase()}))):null):null},n=function(e,n){return e=t(e),e?/[^a-z0-9:\[\].-]/i.test(e)?null:/^\d+(\.\d+){3}$/.test(e)||"["===e[0]?e:e.length>255?null:n&&/^(?=([a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?))\1(?:\.(?=([a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?))\2)+$/i.test(e)?e:/^(?=([a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?))\1(?:\.(?=([a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?))\2)*$/i.test(e)?e:null:null},i=function(e){var n,t,i,o,r;if(i=void 0,o=void 0,n=void 0,r=void 0,t=void 0,!/^(?=(\d+|0x[0-9A-F]+))\1(?:\.(?=(\d+|0x[0-9A-F]+))\2){0,3}$/i.test(e))return null;for(i=e.split("."),r=[],t=0;t<i.length;){if(o=/^0x/i.test(i[1])?parseInt(i[t],16):"0"===i[1][0]?parseInt(i[t],8):1*i[t],t===i.length-1&&3>t){for(n=[];4>t;)n.unshift(o%256),o=(o-n[0])/256,t++;r=r.concat(n);break}o%=256,r.push(o),t++}return r.join(".")},o=function(e){var n,t,o,r,l,a,s,c,d,m,u;if(u=function(e){return e=e.split("."),((256*e[0]+1*e[1]).toString(16)+":"+(256*e[2]+1*e[3]).toString(16)).toLowerCase()},t=void 0,o=void 0,n=void 0,c=[],d=[],r=void 0,m=void 0,s=void 0,a=void 0,l=void 0,!/^[0-9A-F:.]{2,}$/i.test(e))return null;if(!e)return null;if(e=e.toLowerCase().split("::"),e.length>2)return null;if(t=e[0].split(":"),n=2===e.length,o=n?e[1].split(":"):null,t.length>8||n&&t.length+o.length>7)return null;if(""!==t[0])for(r=0;r<t.length;){if(/^[0-9A-F]{1,4}$/i.test(t[r]))c.push(t[r]);else{if(n||6!==r||7!==t.length||!/^\d+(\.\d+){3}$/.test(t[r]))return null;/^(0+:){5}(0+|ffff)$/.test(c.join(":"))?(l=!0,c.push(i(t[r]))):(t[r]=u(i(t[r])),c.push(/^[^:]+/.exec(t[r])[0]),c.push(/:(.+)/.exec(t[r])[1]))}r++}if(n){if(""!==o[0])for(r=0;r<o.length;){if(/^[0-9A-F]{1,4}$/i.test(o[r]))d.push(o[r]);else{if(r!==o.length-1||!/^\d+(\.\d+){3}$/.test(o[r]))return null;/^((0+:)*0+)?$/.test(c.join(":"))&&/^((0+:)*(0+|ffff))?$/.test(d.join(":"))||/^(0+:){5}(0+|ffff)$/.test(c.join(":"))?(l=!0,d.push(i(o[r]))):(o[r]=u(i(o[r])),d.push(/^[^:]+/.exec(o[r])[0]),d.push(/:(.+)/.exec(o[r])[1]))}r++}for(r=(l?7:8)-(c.length+d.length);r>0;)c.push("0"),r--}return c.length+d.length<(l?7:8)?null:(e=c.concat(d).join(":"),l&&(e=e.replace(/^(0+:){6}/,"0:0:0:0:0:ffff:")),e=e.replace(/(^|:)0+([^:.])/g,"$1$2"),a="",m=/(?:^|:)((0:)+0)/g,function(){var n;for(n=[];s=m.exec(e);)n.push(s[1].length>a.length);return n}()&&(a=s[1]),a&&(m=new RegExp("(^|:)"+a+"(:|$)"),e=e.replace(m,"::")),e)},r=function(e){return e||0===e?(e=e.replace(/%(3\d|[46][1-9A-F]|[57][0-9A])/g,function(e,n){return String.fromCharCode(parseInt(n.toUpperCase(),16))}),e=e.replace(/%(2[146-9A-F]|3[ABD]|40|5F|7E)/g,function(e,n){return String.fromCharCode(parseInt(n.toUpperCase(),16))}),e=e.replace(/%(..)/g,function(e,n){return"%"+n.toUpperCase()})):""},c=function(e,n){var t,i,o,r;if(r=[],o=void 0,i=void 0,t=void 0,!e)return[];if(o=e.split("&"),n||0===n)for(t=0;t<o.length;)i=o[t].split("="),1!==i.length&&""!==i[0]&&n===i.shift()&&(r.push(decodeURIComponent(i.join("="))),t++);else for(t=0;t<o.length;)i=o[t].split("="),1!==i.length&&""!==i[0]&&(r.push({name:decodeURIComponent(i.shift()),value:decodeURIComponent(i.join("="))}),t++);return r},s=function(e){var n,t,i,o,r,a;if(a=function(e){var n,t,i,o,r,a,s;for(a=void 0,s=void 0,t=void 0,i=0,o=!1,r=void 0,n=[],a=e.split(",");a.length;){for(s=/(?:^|[^\\()"])(?:\\\\)*([()"])/g;t=s.exec(a[0]);)o?'"'===t[1]&&(o=!1):"("===t[1]?i++:")"===t[1]?i--:o=!0;o||i>0?a[1]&&(a[1]=a[0]+","+a[1],o=!1,i=0):0===i&&(r=l(a[0]),r&&!r.unrecognizedDomain&&n.push(r.display?r.full:r.simple)),a.shift()}return n},n=function(e){return e.replace(/[^a-z0-9-._~!$'()*+,;:@]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})},o=void 0,t=void 0,i=void 0,r="",e=d(e),!e||"mailto"!==e.scheme||e.authority)return null;for(o={uri:"",scheme:"mailto",to:[],cc:[],bcc:[],subject:"",body:"",headers:[]},o.to=e.path?a(decodeURIComponent(e.path)):[],t=c(e.query),i=0;i<t.length;)""!==t[i].value&&("to"===t[i].name?o.to=o.to.concat(a(t[i].value)):"cc"===t[i].name?o.cc=o.cc.concat(a(t[i].value)):"bcc"===t[i].name?o.bcc=o.bcc.concat(a(t[i].value)):"subject"===t[i].name?o.subject=t[i].value:"body"===t[i].name?o.body=t[i].value:o.headers.push(t[i]),i++);if(o.to.length+o.cc.length+o.bcc.length===0)return null;if(o.uri="mailto:"+n(o.to.join(",")),o.cc.length&&(r&&(r+="&"),r+="cc="+n(o.cc.join(","))),o.bcc.length&&(r&&(r+="&"),r+="bcc="+n(o.bcc.join(","))),o.subject&&(r&&(r+="&"),r+="subject="+n(o.subject)),o.body&&(r&&(r+="&"),r+="body="+n(o.body)),o.headers.length)for(i=0;i<o.headers.length;)r&&(r+="&"),r+=n(o.headers[i].name)+"="+n(o.headers[i].value),i++;return r&&(o.uri+="?"+r),o},l=function(e){var t,r,l,a,s,c,d,m,u,p,f,h,g;if(s=function(e){var n,t,i,o;for(o="",i=void 0,t=!1,n=0;i=/^([\t ]*)\(/.exec(e);){for(i[1]&&(o+=i[1],e=e.slice(i[1].length));i=/[()"\\]/.exec(e);){if(t)if('"'===i[0])t=!1,e=e.slice(i.index+1);else if("\\"===i[0]){if(console.log("\\"===i[0]),!e[i.index+1])return null;e=e.slice(i.index+2)}else e=e.slice(i.index+1);else if("("===i[0])n++,e=e.slice(i.index+1);else if(")"===i[0])n--,e=e.slice(i.index+1);else if('"'===i[0])t=!0,e=e.slice(i.index+1);else{if(!e[i.index+1])return null;e=e.slice(i.index+2)}if(!n)break}if(t||n)return null}return i=/^[\t ]*/.exec(e),o+=i[0],e=e.slice(i[0].length),[o,e]},r=e,m=void 0,p=void 0,f=void 0,u=void 0,l=void 0,t=void 0,d=void 0,c="",h=void 0,g=void 0,a={},!r)return null;if(r=r.replace(/\n([\t ])/g,"$1"),/[^\t a-z0-9!#$%&'*+-\/=?\^_`{|}~()<>\[\]:;@\\,."]/i.test(e))return null;if(m=/^[a-z0-9!#$%&'*+-\/=?\^_`{|}~]+/i,p=/^[a-z0-9!#$%&'*+-\/=?\^_`{|}~]+(?:\.[a-z0-9!#$%&'*+-\/=?\^_`{|}~]+)*/i,f=/^"(?:[\t a-z0-9!#$%&'*+-\/=?\^_`{|}~()<>\[\]:;@,.]*(?:\\[\t a-z0-9!#$%&'*+-\/=?\^_`{|}~()<>\[\]:;@\\,."])*)*"/i,u=/^\[[\t a-z0-9!#$%&'*+-\/=?\^_`{|}~()<>:;@,."]*\]/i,d=s(r),!d)return null;if(c+=d[0],r=d[1],"<"===r[0]){if(l=!0,d=s(r.slice(1)),!d)return null;c+="<"+d[0],r=d[1]}if(t=p.exec(r))h=t[0],r=r.slice(t[0].length);else{if(!(t=f.exec(r)))return null;h=t[0],r=r.slice(t[0].length)}if(d=s(r),!d)return null;if(g=d[0],r=d[1],"<"===r[0]){if(l)return null;if(p.test(h)&&!m.test(h))return null;if(l=!0,d=s(r.slice(1)),!d)return null;if(c+=h+g+"<"+d[0],r=d[1],a.display=h,t=m.exec(r))h=t[0],r=r.slice(t[0].length);else{if(!(t=f.exec(r)))return null;h=t[0],r=r.slice(t[0].length)}if(d=s(r),!d)return null;g=d[0],r=d[1]}else a.display="";if(c+=h+g,a.local=h,"@"!==r[0])return null;if(d=s(r.slice(1)),!d)return null;if(c+="@"+d[0],r=d[1],t=p.exec(r))c+=t[0],r=r.slice(t[0].length),a.domain=t[0];else{if(!(t=u.exec(r)))return null;c+=t[0],r=r.slice(t[0].length),a.domain=t[0]}if(d=s(r),!d)return null;if(c+=d[0],r=d[1],l){if(">"!==r[0])return null;if(d=s(r.slice(1)),!d)return null;c+=">"+d[0],r=d[1]}if(a.stripped=c,a.display=a.display.replace(/\s+/," "),'"'===a.display[0]&&(a.display=a.display.slice(1,-1),a.display=a.display.trim?a.display.trim():a.display.replace(/^\s+|\s+$/g,"")),'"'===a.local[0]&&/^[a-z0-9!#$%&'*+-\/=?\^_`{|}~]+(?:\.[a-z0-9!#$%&'*+-\/=?\^_`{|}~]+)*$/i.test(a.local.slice(1,-1))&&(a.local=a.local.slice(1,-1)),/^\[IPv6:/i.test(a.domain)){if(!(h=o(a.domain.slice(6,-1))))return null;a.domain="[IPv6:"+h+"]"}else"["===a.domain[0]&&(h=i(a.domain.slice(1,-1)))?a.domain=h:"["!==a.domain[0]&&(h=n(a.domain))?a.domain=h:a.unrecognizedDomain=!0;return a.simple=a.local+"@"+a.domain,a.full=a.display?'"'+a.display+'" <'+a.simple+">":a.simple,a},e=function(e,n,t){var i,o,r,l,c,m;if(c=void 0,r=void 0,l=void 0,i=void 0,o=void 0,m=void 0,t||0===t||(t=window.location.host),n&&"[object Array]"===Object.prototype.toString.call(n)&&n.length){for(i=0;i<n.length;)"string"==typeof n[i]&&/^[a-z][a-z0-9+.-]*$/i.test(n[i])||n.splice(i,1),i++;if(!n.length)return null}else if("string"==typeof n){if(!/^[a-z][a-z0-9+.-]*$/i.test(n))return null;n=[n]}else{if(n&&n.length)return null;n=["http","https","mailto"]}for(c=/^([a-z][a-z0-9+.-]*):/i.exec(e),c=c?c[1].toLowerCase():window.location.protocol.slice(0,-1),i=0;i<n.length&&c!==n[i];)i++;if(!n[i]){if("http"===c||"https"===c||!/^(?=([a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?))\1(?:\.(?=([a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?))\2)*:/i.test(e))return null;for(c=window.location.protocol.slice(0,-1),i=0;i<n.length&&c!==n[i];)i++;if(!n[i])return null}return e=e.replace(/([^a-z0-9-._~!$&'()*+,;=:@\/\[\]%?#])|%(?![0-9A-F]{2})/g,function(e,n){return n?"%"+n.charCodeAt(0).toString(16):"%25"}),i=e.search(/\?/),o=e.search(/#/),o>=0&&i>o?e=e.slice(0,o+1)+e.slice(o+1).replace(/#/g,"%23"):i>=0&&(m=o>=0?e.slice(o):"",e=e.slice(0,i+1)+e.slice(i+1,o).replace(/\?/g,"%3F"),m&&(e=e+"#"+m.slice(1).replace(/#/g,"%23"))),"http"===c||"https"===c?new RegExp("^"+c+"://","i").test(e)?(r=a(e),r||(r=a(e.replace(/\[/g,"%5B").replace(/\]/g,"%5D")))):r=a("/"===e[0]?c+"://"+t+e.replace(/\[/g,"%5B").replace(/\]/g,"%5D"):c+"://"+t+"/"+e.replace(/\[/g,"%5B").replace(/\]/g,"%5D")):r="mailto"===c?s(e.replace(/^mailto:\/\//i,"mailto:%2F%2F").replace(/\[/g,"%5B").replace(/\]/g,"%5D")):d(e.replace(/\[/g,"%5B").replace(/\]/g,"%5D")),r?r.uri:null},this.normalizeHost=t,this.normalizeDNSHost=n,this.normalizeIPv4=i,this.normalizeIPv6=o,this.normalizePath=r,this.parseURI=d,this.parseHttp=a,this.parseMailto=s,this.parseQuery=c,this.parseEmailAddress=l,this.fixHyperlink=e}.call(this),t=function(e,n){var t;for(t in n)n[t]&&n[t].constructor&&n[t].constructor===Object?(e[t]=e[t]||{},arguments.callee(e[t],n[t])):e[t]=n[t];return e},mn$.isMobile=!1,function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(mn$.isMobile=!0)}(navigator.userAgent||navigator.vendor||window.opera),navigator.userAgent.match("CriOS")&&(mn$.isMobile=!0),navigator.userAgent.match("iPhone")&&(mn$.isMobile=!0),navigator.userAgent.match("iPad")&&(mn$.isMobile=!0),mn$.console=new Object,mn$.console.log=function(){return mn$.options.debug?console.log.apply(console,arguments):void 0},mn$.console.error=function(){return mn$.options.debug?console.error.apply(console,arguments):void 0},mn$.console.info=function(){return mn$.options.debug?console.info.apply(console,arguments):void 0},e="prod"===n?"https://mailtoninja-kickstrap.netdna-ssl.com":"",mn$.transformMailtos=function(){var n,t,i,o,l,a,s,c,d,m;if(mn$.mailtos=r('a[href^="mailto"]'),mn$.console.info(""+mn$.mailtos.length+" mailto links found"),0===r(".se-modal").length&&mn$.createModal(),n=document.createElement("link"),n.type="text/css",n.rel="stylesheet",n.href=""+e+"/css/v0/mailto.ninja.css",document.head.appendChild(n),mn$.options.active){for(c=mn$.mailtos,o=0,a=c.length;a>o;o++)t=c[o],t.classList.add("mnModalLink"),t.dataset.href=t.href,t.target="_self",mn$.options.showAnchor?t.href="#":t.removeAttribute("href");for(d=mn$.mailtos,m=[],l=0,s=d.length;s>l;l++)i=d[l],m.push(i.addEventListener("click",function(e){return mn$.modal.style.display="block",mn$.mailtoStruct=parseMailto(this.dataset.href),mn$.populateModal(),mn$.bindModal(),e.stopPropagation()}));return m}},window.mailto=new Object,window.mailto.ninja=function(l,a,s){var c;return mn$.userOptions=l||{},mn$.success=a||function(){},mn$.error=s||function(){},c=this,document.addEventListener("DOMContentLoaded",function(){return mn$.options={showOnMobile:!1,active:!0,i18n:{to:"To",yourName:"Your Name",yourEmail:"Your Email",subject:"Subject",message:"Message",cancel:"Cancel",send:"Send",placeholders:{yourName:"John Smith",yourEmail:"john@example.com",subject:"Hello"},alerts:{missingToField:"Sorry, this form is not set up correctly to send messages. Addressee missing.",missingFromEmailField:"Please enter a valid email address",missingFromNameField:"Please enter your name",missingSubjectField:"Please enter a subject",missingMessageField:"Please enter a message",generalError:"Form was not posted because there was an error.",messageSentSuccessfully:"Message sent successfully."}},debug:!1,showAnchor:!0,gmail:!0,user:new Object},mn$.options=t(mn$.options,mn$.userOptions),mn$.console.info("Mailto Ninja (http://mailto.ninja)"),mn$.console.info("----------------------------------"),mn$.options.showOnMobile||!mn$.isMobile?(mn$.setOption=function(e,n){return mn$.options.user[e]=n,mn$.console.log("Setting "+e+" = "+n)},mn$.options.gmail&&o(),mn$.createModal=function(){return mn$.modal=document.createElement("div"),mn$.modal.className="se-modal override",mn$.id="se-modal",document.body.appendChild(mn$.modal),mn$.modal.addEventListener("click",function(e){return e.stopPropagation()}),mn$("body").addEventListener("click",function(){return r('.se-modal[style="display: block;"]').length?mn$('.se-modal[style="display: block;"]').style.display="none":void 0}),mn$.loader=document.createElement("img"),mn$.loader.className="mailto ninja loader",mn$.loader.src=""+e+"/img/loading-bars.svg",mn$.loader.style.display="none",document.body.appendChild(mn$.loader)},mn$.populateModal=function(){var e,n,t,i,o,r,l,a,s,c,d,m,u,p,f,h,g,v;return i=document.createElement("div"),i.classList.add("mailto"),i.classList.add("ninja"),mn$.modal.innerHTML="",mn$.modal.appendChild(i),g=document.createElement("fieldset"),d=document.createElement("fieldset"),l=document.createElement("fieldset"),f=document.createElement("fieldset"),m=document.createElement("div"),g.id="to-address",d.id="mailfromName",l.id="from-address",f.id="subject",m.classList.add("message"),i.appendChild(g),i.appendChild(d),i.appendChild(l),i.appendChild(f),i.appendChild(m),s=document.createElement("label"),s.innerHTML=""+mn$.options.i18n.to+":",g.appendChild(s),s=document.createElement("label"),s.innerHTML=""+mn$.options.i18n.yourEmail+":",l.appendChild(s),s=document.createElement("label"),s.innerHTML=""+mn$.options.i18n.yourName+":",d.appendChild(s),s=document.createElement("label"),s.innerHTML=""+mn$.options.i18n.subject+":",f.appendChild(s),a=document.createElement("input"),a.placeholder=mn$.options.i18n.placeholders.yourName,a.type="text",d.appendChild(a),p=document.createElement("p"),p.innerHTML=mn$.mailtoStruct.to[0]||"Error: Could not retrieve addressee",g.appendChild(p),a=document.createElement("input"),a.placeholder=mn$.options.i18n.placeholders.yourEmail,a.type="text",l.appendChild(a),a=document.createElement("input"),a.placeholder=mn$.options.i18n.placeholders.subject,a.type="text",f.appendChild(a),o=document.createElement("fieldset"),o.id="message",s=document.createElement("label"),s.innerHTML=""+mn$.options.i18n.message+":",o.appendChild(s),h=document.createElement("textarea"),h.rows="15",m.appendChild(o),o.appendChild(h),r=document.createElement("footer"),u=document.createElement("nav"),u.classList.add("toolbar"),v=document.createElement("ul"),c=document.createElement("li"),e=document.createElement("a"),e.href="http://mailto.ninja",e.target="_blank",e.classList.add("logo"),e.innerHTML="mailto.ninja",c.appendChild(e),v.appendChild(c),u.appendChild(v),r.appendChild(u),i.appendChild(r),v=document.createElement("ul"),c=document.createElement("li"),n=document.createElement("button"),n.id="send",n.innerHTML=""+mn$.options.i18n.send,v.appendChild(c),c.appendChild(n),u.appendChild(v),c=document.createElement("li"),n=document.createElement("button"),n.id="cancel",n.innerHTML=""+mn$.options.i18n.cancel,v.appendChild(c),c.appendChild(n),u.appendChild(v),t=document.createElement("a"),t.classList.add("close"),t.innerHTML="&times;",mn$.modal.appendChild(t)},mn$.createModal(),mn$.transformMailtos(),mn$.bindModal=function(){var e,t,o,l;mn$(".se-modal .close").addEventListener("click",function(){return mn$(".se-modal").style.display="none"}),mn$(".se-modal #cancel").addEventListener("click",function(){return mn$(".se-modal").style.display="none"}),o=document.createElement("div"),o.className="growlContainer",document.body.appendChild(o),e=function(e,n,t){var i,l;return l=document.createElement("div"),l.className="growl "+n,l.innerHTML=e,o.appendChild(l),i&&clearTimeout(i),t&&(i=setTimeout(function(){return o.innerHTML=""},2500)),r(".growlContainer #mn-growl-close").length?mn$(".growlContainer #mn-growl-close").addEventListener("click",function(){return o.innerHTML=""}):void 0},o.addEventListener("click",function(e){return e.stopPropagation()}),t=function(e){return e=e.replace(/@/g,"____at"),e=e.replace(/\./g,"____dot"),e=e.replace(/\+/g,"____plus")};!function(){for(var e={},n=window.location.search.substring(1),t=n.split("&"),i=0;i<t.length;i++){var o=t[i].split("=");if("undefined"==typeof e[o[0]])e[o[0]]=o[1];else if("string"==typeof e[o[0]]){var r=[e[o[0]],o[1]];e[o[0]]=r}else e[o[0]].push(o[1])}return e}();return mn$(".se-modal #subject input").value=mn$.mailtoStruct.subject||"",mn$(".se-modal #message textarea").innerHTML=mn$.mailtoStruct.body||"",l=function(t,o,r,l){var a,s;return mn$.console.log("Setting up with params: ",o),s=new XMLHttpRequest,a="prod"===n?"https://mailto.ninja":"",s.open("POST",a+t,!0),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.onload=function(){var n,t;if(this.status>=200&&this.status<400)return r&&r(),mn$.console.info("Message sent successfully"),mn$.success();switch(l&&l(),n=s.response||s.responseText||s.statusText,mn$.console.error(n),t=n.split(" ")[1],mn$.error(n),i(n)){case 1:return e('<p>Have you registered your email with <a target="_blank" href="http://mailto.ninja/admin?register=true">Mailto.ninja</a> Yet?</p>\n<p>This helps us protect you from spam.</p>\n<p><button id="mn-growl-close">Close</button></p>',"error");case 2:return e("<p>"+t+' is not listed in the Mailto.Ninja user\'s list of allowed domains.</p>\n<p>If this is your account, please visit <a target="_blank" href="http://mailto.ninja/admin">your admin page</a> to set this up.</p>\n<p><button id="mn-growl-close">Close</button></p>',"error");case 11:return e('<p>This user has not confirmed registration of their <a href="http://mailto.ninja">mailto.ninja</a> account.</p>\n<p>If this is your account, please confirm via your email link or return to your dashboard to resend the verification email.</p>\n<p><button id="mn-growl-close">Close</button></p>',"error")}},s.onerror=function(e){return mn$.console.error(e)},s.send(o)},mn$(".se-modal #send").addEventListener("click",function(){var n,i,o,a,s,c,d,m,u,p,f,h,g,v,$;for($=r(".se-modal fieldset"),g=0,v=$.length;v>g;g++)i=$[g],i.classList.remove("error");return a=t(mn$("#to-address p").innerHTML),o=t(mn$("#from-address input").value),d=mn$("#mailfromName input").value,h=mn$("#subject input").value,c=mn$("#message textarea").value,c=c.replace(/\&/g,"____and"),c=c.replace(/\?/g,"____question"),mn$.console.log("Sending..."),m="mailto="+a+"&name="+d+"&mailfrom="+o+"&subject="+h+"&message="+c,n=0,s=function(n,t){return mn$(n).classList.add("error"),e(t,"error",!0)},a.length||(s("#to-address",mn$.options.i18n.alerts.missingToField),n++),o.length?(u=o.split("____at"),p=o.split("____dot"),f=u.concat(p),f.length<4&&(s("#from-address",mn$.options.i18n.alerts.missingFromEmailField),mn$.console.error(f),n++)):(s("#from-address",mn$.options.i18n.alerts.missingFromEmailField),n++),d.length||(s("#mailfromName",mn$.options.i18n.alerts.missingFromNameField),n++),h.length||(s("#subject",mn$.options.i18n.alerts.missingSubjectField),n++),c.length||(alert(mn$.options.i18n.alerts.missingMessageField),n++),n>0?(mn$.console.error(mn$.options.i18n.alerts.generalError),!1):(mn$.loader.style.display="block",l("/mailer",m,function(){return mn$.console.log("Params: ",m),e(mn$.options.i18n.alerts.messageSentSuccessfully,"success",!0),mn$.modal.style.display="none",mn$.loader.style.display="none"},function(){return mn$.loader.style.display="none"}))})}):void 0})},mailto.ninja.reload=function(){return mn$.transformMailtos()},mailto.ninja.resource=function(e){var n;return(n=function(n,t,i,o){var r;return r=new XMLHttpRequest,r.open(o||"GET",n,!0),r.onload=function(){return this.status>=200&&this.status<400?i?i():void 0:createGrowl("Could not get component "+e+", try refreshing.","error")},r.onerror=function(e){return createGrowl("Received error "+e+".","error"),console.error(e)},r.send(t)})("/resource/"+e,{},function(){return console.log("ping")})}}).call(this);